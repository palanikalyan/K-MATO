<div class="restaurants-page">
  <!-- Hero Section -->
  <div class="hero-section">
    <div class="container">
      <h1 class="hero-title">Discover the best food & drinks</h1>
      <p class="hero-subtitle">Order from your favorite restaurants near you</p>
      
      <!-- Filters -->
      <div class="filters">
        <button class="filter-btn" [class.active]="selectedFilter === 'all'" (click)="filterBy('all')">
          All
        </button>
        <button class="filter-btn" [class.active]="selectedFilter === 'rating'" (click)="filterBy('rating')">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
            <path d="M8 1L10 6H15L11 9L12.5 14L8 11L3.5 14L5 9L1 6H6L8 1Z" fill="currentColor"/>
          </svg>
          Rating 4.0+
        </button>
        <button class="filter-btn" [class.active]="selectedFilter === 'delivery'" (click)="filterBy('delivery')">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
            <path d="M1 3H11V10H1V3Z" stroke="currentColor" stroke-width="1.5"/>
            <path d="M11 6H13L15 8V10H11V6Z" stroke="currentColor" stroke-width="1.5"/>
            <circle cx="4" cy="12" r="1.5" stroke="currentColor" stroke-width="1.5"/>
            <circle cx="12" cy="12" r="1.5" stroke="currentColor" stroke-width="1.5"/>
          </svg>
          Fast Delivery
        </button>
        <button class="filter-btn" [class.active]="selectedFilter === 'new'" (click)="filterBy('new')">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
            <path d="M8 14A6 6 0 108 2a6 6 0 000 12z" stroke="currentColor" stroke-width="1.5"/>
            <path d="M8 4v4l2 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          New
        </button>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="container">
    <div class="content-header">
      <h2 class="section-title">{{ filteredRestaurants.length }} restaurants</h2>
      <div class="view-toggle">
        <button class="view-btn" [class.active]="viewMode === 'grid'" (click)="viewMode = 'grid'">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <rect x="2" y="2" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5"/>
            <rect x="12" y="2" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5"/>
            <rect x="2" y="12" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5"/>
            <rect x="12" y="12" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5"/>
          </svg>
        </button>
        <button class="view-btn" [class.active]="viewMode === 'list'" (click)="viewMode = 'list'">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M3 5h14M3 10h14M3 15h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="loading-grid">
      <div class="skeleton-card" *ngFor="let i of [1,2,3,4,5,6]">
        <div class="skeleton skeleton-image"></div>
        <div class="skeleton-body">
          <div class="skeleton skeleton-title"></div>
          <div class="skeleton skeleton-text"></div>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="!loading && filteredRestaurants.length === 0" class="empty-state">
      <svg width="120" height="120" viewBox="0 0 120 120" fill="none">
        <circle cx="60" cy="60" r="50" fill="var(--background-light)"/>
        <path d="M60 35v30m0 10v5" stroke="var(--text-light)" stroke-width="4" stroke-linecap="round"/>
      </svg>
      <h3>No restaurants found</h3>
      <p>Try adjusting your filters or search again</p>
      <button class="btn btn-primary" (click)="resetFilters()">Clear Filters</button>
    </div>

    <!-- Restaurant Grid -->
    <div *ngIf="!loading && filteredRestaurants.length > 0" class="restaurants-grid" [class.list-view]="viewMode === 'list'">
      <div class="restaurant-card" 
           *ngFor="let restaurant of filteredRestaurants" 
           (click)="goToRestaurant(restaurant.id)"
           (keydown.enter)="goToRestaurant(restaurant.id)"
           tabindex="0"
           role="button">
        <div class="restaurant-image-wrapper">
          <img [src]="restaurant.imageUrl || 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=400&h=300&fit=crop'" [alt]="restaurant.name" class="restaurant-image"/>
          <div class="image-overlay">
            <span class="badge badge-success" *ngIf="restaurant.isOpen">Open</span>
            <span class="badge badge-error" *ngIf="!restaurant.isOpen">Closed</span>
          </div>
        </div>
        <div class="restaurant-content">
          <h3 class="restaurant-name">{{ restaurant.name }}</h3>
          <p class="restaurant-description">{{ restaurant.description }}</p>
          <div class="restaurant-meta">
            <div class="meta-item">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path d="M8 1L10 6H15L11 9L12.5 14L8 11L3.5 14L5 9L1 6H6L8 1Z" fill="#FCBF49"/>
              </svg>
              <span class="rating">{{ restaurant.rating || 4.2 }}</span>
              <span class="reviews">({{ restaurant.totalReviews || 100 }}+)</span>
            </div>
            <div class="meta-item">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="1.5"/>
                <path d="M8 4v4l2 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
              <span>30-40 min</span>
            </div>
          </div>
          <div class="restaurant-location">
            <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
              <path d="M7 1C4.24 1 2 3.24 2 6c0 3.5 5 7 5 7s5-3.5 5-7c0-2.76-2.24-5-5-5z" stroke="currentColor" stroke-width="1.5"/>
              <circle cx="7" cy="6" r="1.5" stroke="currentColor" stroke-width="1.5"/>
            </svg>
            <span>{{ restaurant.city }}</span>
          </div>
        </div>
        <div class="quick-actions">
          <button class="quick-btn" (click)="addToFavorites(restaurant, $event)" title="Favorite">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M10 17l-1.45-1.32C4.4 12.36 2 10.28 2 7.5 2 5.5 3.5 4 5.5 4c1.54 0 3.04.99 3.57 2.36h1.87C11.46 4.99 12.96 4 14.5 4c2 0 3.5 1.5 3.5 3.5 0 2.78-2.4 4.86-6.55 8.18L10 17z" stroke="currentColor" stroke-width="1.5"/>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
