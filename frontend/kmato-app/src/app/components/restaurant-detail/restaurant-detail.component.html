<div class="restaurant-detail-page">
  <!-- Loading State -->
  <div *ngIf="loading" class="loading-container">
    <div class="spinner"></div>
    <p>Loading restaurant...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !loading" class="error-state">
    <svg width="80" height="80" viewBox="0 0 80 80" fill="none">
      <circle cx="40" cy="40" r="35" stroke="var(--error)" stroke-width="3"/>
      <path d="M40 25v20M40 50v5" stroke="var(--error)" stroke-width="3" stroke-linecap="round"/>
    </svg>
    <h2>{{ error }}</h2>
    <button class="btn btn-primary" (click)="goBack()">Back to Restaurants</button>
  </div>

  <!-- Restaurant Content -->
  <div *ngIf="restaurant && !loading" class="restaurant-content">
    <!-- Restaurant Header -->
    <div class="restaurant-header">
      <div class="header-image" [style.background-image]="'url(' + (restaurant.imageUrl || 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=1200&h=400&fit=crop') + ')'">
        <div class="header-overlay">
          <div class="container">
            <button class="back-btn" (click)="goBack()">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Back
            </button>
          </div>
        </div>
      </div>
      
      <div class="container">
        <div class="header-info">
          <div class="info-left">
            <h1 class="restaurant-title">{{ restaurant.name }}</h1>
            <p class="restaurant-description">{{ restaurant.description }}</p>
            <div class="restaurant-meta">
              <div class="meta-badge">
                <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
                  <path d="M9 1L11 7H17L12 11L14 17L9 13L4 17L6 11L1 7H7L9 1Z" fill="#FCBF49"/>
                </svg>
                <span class="rating">{{ restaurant.rating || 4.2 }}</span>
              </div>
              <div class="meta-badge">
                <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
                  <circle cx="9" cy="9" r="8" stroke="currentColor" stroke-width="1.5"/>
                  <path d="M9 4v5l3 3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
                <span>30-40 min</span>
              </div>
              <div class="meta-badge">
                <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
                  <path d="M9 1C5.68 1 3 3.68 3 7c0 4.5 6 10 6 10s6-5.5 6-10c0-3.32-2.68-6-6-6z" stroke="currentColor" stroke-width="1.5"/>
                  <circle cx="9" cy="7" r="2" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                <span>{{ restaurant.city }}</span>
              </div>
              <span class="badge" [class.badge-success]="restaurant.isOpen" [class.badge-error]="!restaurant.isOpen">
                {{ restaurant.isOpen ? 'Open' : 'Closed' }}
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Menu Section -->
    <div class="container">
      <div class="menu-section">
        <div class="section-header">
          <h2 class="section-title">Menu</h2>
        </div>

        <!-- Category Filters -->
        <div class="category-filters" *ngIf="categories.length > 1">
          <button 
            class="category-btn" 
            *ngFor="let category of categories"
            [class.active]="selectedCategory === category"
            (click)="filterByCategory(category)">
            {{ category === 'all' ? 'All Items' : category }}
          </button>
        </div>

        <!-- Menu Items Grid -->
        <div class="menu-grid" *ngIf="filteredMenu.length > 0">
          <div class="menu-card" *ngFor="let item of filteredMenu">
            <div class="menu-card-content">
              <div class="menu-info">
                <div class="menu-header">
                  <h3 class="menu-name">{{ item.name }}</h3>
                  <span class="badge badge-veg" *ngIf="item.isVegetarian">
                    <span class="veg-dot"></span>
                  </span>
                </div>
                <p class="menu-description">{{ item.description }}</p>
                <div class="menu-footer">
                  <span class="menu-price">â‚¹{{ item.price }}</span>
                  <span class="menu-category" *ngIf="item.category">{{ item.category }}</span>
                </div>
              </div>
              <div class="menu-image-section">
                <img 
                  *ngIf="item.imageUrl" 
                  [src]="item.imageUrl" 
                  [alt]="item.name" 
                  class="menu-image"
                />
                <div class="add-section">
                  <div class="quantity-selector">
                    <button class="qty-btn" (click)="decrementQuantity(item.id)">-</button>
                    <span class="qty-value">{{ quantities[item.id] || 1 }}</span>
                    <button class="qty-btn" (click)="incrementQuantity(item.id)">+</button>
                  </div>
                  <button class="btn-add-to-cart" (click)="addToCart(item)">
                    Add to Cart
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Empty Menu State -->
        <div class="empty-menu" *ngIf="filteredMenu.length === 0 && !loading">
          <svg width="100" height="100" viewBox="0 0 100 100" fill="none">
            <circle cx="50" cy="50" r="40" fill="var(--background-light)"/>
            <path d="M50 30v20m0 10v5" stroke="var(--text-light)" stroke-width="3" stroke-linecap="round"/>
          </svg>
          <h3>No menu items available</h3>
          <p>This restaurant hasn't added any items yet</p>
        </div>
      </div>
    </div>
  </div>
</div>
